CREATE TABLE users (
    id int NOT NULL AUTO_INCREMENT,
    username VARCHAR(100),
    password VARCHAR(256),
    email VARCHAR(100),
    PRIMARY KEY(id)
);

CREATE TABLE friendLists (
    sender_id int NOT NULL,
    receiver_id int NOT NULL,
    isPending BOOL,
    FOREIGN KEY(sender_id) REFERENCES users(id),
    FOREIGN KEY(receiver_id) REFERENCES users(id)

);

CREATE TABLE chats (
    id int NOT NULL AUTO_INCREMENT,
    chatName VARCHAR(100),
    creator int NOT NULL,
    PRIMARY KEY (id),
    FOREIGN KEY (creator) REFERENCES users(id)
);

CREATE TABLE messages (
    id int NOT NULL AUTO_INCREMENT,
    author int NOT NULL,
    chat int NOT NULL,
    content VARCHAR(40000),
    PRIMARY KEY (id),
    FOREIGN KEY (author) REFERENCES users(id),
    FOREIGN KEY (chat) REFERENCES chats(id)
);

CREATE TABLE chatUser (
    chat_id int NOT NULL,
    user_id int NOT NULL,
    isModerator BOOL,
    FOREIGN KEY (chat_id) REFERENCES chats(id),
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE chatMessage(
    chat_id int NOT NULL,
    message_id int NOT NULL,
    FOREIGN KEY (chat_id) REFERENCES chats(id),
    FOREIGN KEY (message_id) REFERENCES messages(id)
);
